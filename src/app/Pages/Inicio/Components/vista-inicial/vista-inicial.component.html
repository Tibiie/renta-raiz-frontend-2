<app-navbar></app-navbar>

<div class="w-full max-h-[77vh] overflow-hidden">
    <div class="relative w-full bg-black pb-[56.25%] h-0">
        <!-- Video de fondo -->
        <iframe
            src="https://player.vimeo.com/video/420041930?loop=1&autoplay=1&title=0&byline=0&portrait=0&background=1&player_id=iframe93236&background=1"
            class="absolute top-0 left-0 w-full h-full object-cover" frameborder="0" allow="autoplay; fullscreen">
        </iframe>

        <div class="absolute inset-0 bg-black/50 flex items-start justify-center pt-14">
            <img src="assets/images/encuentra.png" class="w-full h-auto object-contain max-h-[60%]" alt="Imagen" />
        </div>

        <!-- Contenedor para botón de contacto -->
        <div class="absolute inset-0 flex items-center justify-center pt-[1vh] z-10">
            <button type="button"
                class="flex items-center justify-center text-white bg-[#CDAD60] hover:bg-[#CDAD60]/90 font-bold rounded-full text-lg px-8 py-4 transition-all duration-300 hover:scale-105 focus:outline-none focus:ring-4 focus:ring-[#CDAD60]/50 z-10 transform">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 mr-3" fill="none" viewBox="0 0 24 24"
                    stroke="currentColor" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round"
                        d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
                </svg>
                CONTÁCTANOS
            </button>
        </div>
    </div>

    <!-- Contenedor de Filtros -->
    <div class="absolute inset-0 flex items-center justify-center pt-[50vh] z-10">
        <div class="bg-white bg-opacity-90 rounded-lg p-6 w-full max-w-6xl mx-4 shadow-2xl shadow-gray-600/40">
            <div class="flex flex-col md:flex-row gap-4 items-end">

                <div class="w-full md:w-1/3">
                    <label for="ubicacion" class="block text-sm font-medium text-gray-700 mb-1">Ubicación</label>
                    <div class="relative">
                        <input type="text" id="ubicacion"
                            class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-[#CDAD60] focus:border-[#CDAD60] pr-12"
                            placeholder="Ej. Medellin, Colombia" />
                        <button type="button"
                            class="absolute inset-y-0 right-0 flex items-center pr-3 text-gray-400 hover:text-[#CDAD60] transition-colors">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24"
                                stroke="currentColor" stroke-width="2">
                                <path stroke-linecap="round" stroke-linejoin="round"
                                    d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
                            </svg>
                        </button>
                    </div>
                </div>

                    <!-- Tipo de Propiedad (Mismo que antes) -->
                    <div class="relative w-full md:w-1/3">
                      <label class="block text-sm font-medium text-gray-700 mb-1">Tipo de propiedad</label>
                      <button (click)="toggleDropdown('property')"
                        class="w-full flex justify-between items-center px-4 py-2 border border-gray-300 rounded-md bg-white text-gray-700 focus:ring-[#CDAD60] focus:border-[#CDAD60]">
                        <span>
                          <i [class]="getIcon('property', selectedProperty)" class="mr-2"></i>
                          {{ selectedProperty }}
                        </span>
                        <svg class="w-4 h-4 ml-2 text-gray-600" aria-hidden="true" fill="none" stroke="currentColor"
                          viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                        </svg>
                      </button>
                    
                      <!-- Menú desplegable -->
                      <div *ngIf="isPropertyDropdownOpen"
                        class="absolute z-10 mt-2 w-full bg-white rounded-lg shadow-lg border border-gray-200">
                        <div class="p-4">
                          <p class="text-gray-500 text-sm font-medium mb-2">Categoría</p>
                          <div class="grid grid-cols-2 gap-2">
                            <button *ngFor="let option of propertyOptions" 
                              (click)="selectOption('property', option)"
                              [class]="getButtonClass(selectedProperty === option)">
                              <i [class]="getIcon('property', option)" class="mr-2"></i>
                              {{ option }}
                            </button>
                          </div>
                        </div>
                      </div>
                    </div>
                  
                    <!-- Inmueble (Nuevo dropdown con mismo estilo) -->
                    <div class="relative w-full md:w-1/3">
                      <label class="block text-sm font-medium text-gray-700 mb-1">Inmueble</label>
                      <button (click)="toggleDropdown('estate')"
                        class="w-full flex justify-between items-center px-4 py-2 border border-gray-300 rounded-md bg-white text-gray-700 focus:ring-[#CDAD60] focus:border-[#CDAD60]">
                        <span>
                          <i [class]="getIcon('estate', selectedEstate)" class="mr-2"></i>
                          {{ selectedEstate }}
                        </span>
                        <svg class="w-4 h-4 ml-2 text-gray-600" aria-hidden="true" fill="none" stroke="currentColor"
                          viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                        </svg>
                      </button>
                    
                      <!-- Menú desplegable -->
                      <div *ngIf="isEstateDropdownOpen"
                        class="absolute z-10 mt-2 w-full bg-white rounded-lg shadow-lg border border-gray-200">
                        <div class="p-4">
                          <p class="text-gray-500 text-sm font-medium mb-2">Tipo de inmueble</p>
                          <div class="grid grid-cols-2 gap-2">
                            <button *ngFor="let option of estateOptions" 
                              (click)="selectOption('estate', option)"
                              [class]="getButtonClass(selectedEstate === option)">
                              <i [class]="getIcon('estate', option)" class="mr-2"></i>
                              {{ option }}
                            </button>
                          </div>
                        </div>
                      </div>
                    </div>

                <!-- Botón Buscar redondo con icono -->
                <button type="button"
                    class="flex items-center justify-center text-white bg-[#080E36] hover:bg-[#CDAD60] focus:outline-none focus:ring-4 focus:ring-[#CDAD60]/50 font-bold rounded-full text-lg px-6 py-3 transition-all duration-300 transform hover:scale-105 shadow-md hover:shadow-lg">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mr-2" fill="none" viewBox="0 0 24 24"
                        stroke="currentColor" stroke-width="2">
                        <path stroke-linecap="round" stroke-linejoin="round"
                            d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
                    </svg>
                    Buscar
                </button>
            </div>
        </div>
    </div>
</div>